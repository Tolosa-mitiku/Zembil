# Cursor Rules - Responsive Design for All Devices

## üéØ Core Principle

**NEVER use hardcoded pixel values.** All UI dimensions (width, height, padding, margin, font size, icon size, border radius) MUST be calculated based on screen dimensions.

---

## üì± Getting Screen Dimensions

### Always Start With This

```dart
@override
Widget build(BuildContext context) {
  final size = MediaQuery.of(context).size;
  final width = size.width;
  final height = size.height;
  final theme = Theme.of(context);
  final isDark = theme.brightness == Brightness.dark;

  // Now use width and height for ALL sizing
}
```

### When to Use MediaQuery vs LayoutBuilder

#### Use MediaQuery

- For screen-level dimensions
- For initial layout calculations
- For determining device type (phone/tablet/desktop)

```dart
final screenWidth = MediaQuery.of(context).size.width;
final screenHeight = MediaQuery.of(context).size.height;
```

#### Use LayoutBuilder

- For widget-relative sizing
- For responsive widgets within a constrained space
- For adaptive layouts based on parent size

```dart
LayoutBuilder(
  builder: (context, constraints) {
    final availableWidth = constraints.maxWidth;
    final availableHeight = constraints.maxHeight;
    // Use constraints for sizing
  },
)
```

---

## üìè Responsive Sizing Patterns

### 1. Percentage-Based Sizing

#### Width Calculations

```dart
// GOOD - Responsive
Container(
  width: width * 0.9,        // 90% of screen width
  height: height * 0.3,      // 30% of screen height
  padding: EdgeInsets.symmetric(
    horizontal: width * 0.05,  // 5% horizontal padding
    vertical: height * 0.02,   // 2% vertical padding
  ),
)

// BAD - Hardcoded
Container(
  width: 350,
  height: 200,
  padding: EdgeInsets.all(20),
)
```

#### Common Ratios

- **Full width:** `width * 1.0` or `double.infinity`
- **Most of width:** `width * 0.9` (90%)
- **Half width:** `width * 0.5` (50%)
- **Third width:** `width * 0.33` (33%)

### 2. Icon Sizing

```dart
// GOOD - Responsive
Icon(
  Icons.shopping_bag,
  size: width * 0.08,  // 8% of screen width
)

// For very large icons (splash, headers)
Icon(
  Icons.settings,
  size: width * 0.15,  // 15% of screen width
)

// For regular icons
Icon(
  Icons.home,
  size: width * 0.06,  // 6% of screen width (‚âà24px on 400px screen)
)

// BAD - Hardcoded
Icon(Icons.home, size: 24)
```

### 3. Font Sizing

```dart
// GOOD - Responsive
Text(
  'Title',
  style: TextStyle(
    fontSize: width * 0.06,  // 6% of width (‚âà24px on 400px screen)
    fontWeight: FontWeight.bold,
  ),
)

// For different text levels
final displaySize = width * 0.08;      // Large headlines
final headlineSize = width * 0.06;     // Headlines
final titleSize = width * 0.05;        // Titles
final bodySize = width * 0.04;         // Body text
final captionSize = width * 0.035;     // Small text

// BAD - Hardcoded
Text('Title', style: TextStyle(fontSize: 24))
```

### 4. Padding & Margin

```dart
// GOOD - Responsive
Padding(
  padding: EdgeInsets.symmetric(
    horizontal: width * 0.05,   // 5% horizontal
    vertical: height * 0.02,    // 2% vertical
  ),
  child: child,
)

// For different spacing levels
final tinySpace = width * 0.01;      // 1% (‚âà4px)
final smallSpace = width * 0.02;     // 2% (‚âà8px)
final mediumSpace = width * 0.04;    // 4% (‚âà16px)
final largeSpace = width * 0.06;     // 6% (‚âà24px)
final xLargeSpace = width * 0.08;    // 8% (‚âà32px)

// BAD - Hardcoded
Padding(padding: EdgeInsets.all(16))
```

### 5. Border Radius

```dart
// GOOD - Responsive
Container(
  decoration: BoxDecoration(
    borderRadius: BorderRadius.circular(width * 0.03), // 3% (‚âà12px)
  ),
)

// Common radius values
final smallRadius = width * 0.02;    // 2% (‚âà8px)
final mediumRadius = width * 0.03;   // 3% (‚âà12px)
final largeRadius = width * 0.04;    // 4% (‚âà16px)
final circularRadius = width * 0.5;  // 50% (full circle)

// BAD - Hardcoded
BorderRadius.circular(12)
```

### 6. SizedBox Spacing

```dart
// GOOD - Responsive
SizedBox(height: height * 0.02)  // 2% vertical space
SizedBox(width: width * 0.04)    // 4% horizontal space

// BAD - Hardcoded
SizedBox(height: 16)
```

---

## üì± Device Breakpoints

### Define Device Types

```dart
class DeviceType {
  static const double mobileMaxWidth = 600;
  static const double tabletMaxWidth = 1024;

  static bool isMobile(double width) => width < mobileMaxWidth;
  static bool isTablet(double width) => width >= mobileMaxWidth && width < tabletMaxWidth;
  static bool isDesktop(double width) => width >= tabletMaxWidth;
}
```

### Adaptive Layouts

```dart
Widget build(BuildContext context) {
  final width = MediaQuery.of(context).size.width;

  if (DeviceType.isMobile(width)) {
    return _buildMobileLayout();
  } else if (DeviceType.isTablet(width)) {
    return _buildTabletLayout();
  } else {
    return _buildDesktopLayout();
  }
}

// Or use responsive values
final columns = DeviceType.isMobile(width) ? 2 : DeviceType.isTablet(width) ? 3 : 4;
```

---

## üé® Responsive Widget Patterns

### 1. Responsive Container

```dart
// GOOD - Fully responsive
Container(
  width: width * 0.9,
  height: height * 0.25,
  padding: EdgeInsets.symmetric(
    horizontal: width * 0.05,
    vertical: height * 0.02,
  ),
  margin: EdgeInsets.all(width * 0.04),
  decoration: BoxDecoration(
    borderRadius: BorderRadius.circular(width * 0.04),
    border: Border.all(width: width * 0.005), // Border width
  ),
  child: child,
)
```

### 2. Responsive Card

```dart
// GOOD - Responsive card
Card(
  margin: EdgeInsets.all(width * 0.04),
  shape: RoundedRectangleBorder(
    borderRadius: BorderRadius.circular(width * 0.04),
  ),
  child: Padding(
    padding: EdgeInsets.all(width * 0.04),
    child: Column(
      children: [
        Icon(icon, size: width * 0.08),
        SizedBox(height: height * 0.015),
        Text(
          title,
          style: TextStyle(fontSize: width * 0.045),
        ),
      ],
    ),
  ),
)
```

### 3. Responsive Grid

```dart
// GOOD - Responsive grid
GridView.builder(
  gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
    crossAxisCount: DeviceType.isMobile(width) ? 2 : 3,
    crossAxisSpacing: width * 0.03,
    mainAxisSpacing: width * 0.03,
    childAspectRatio: 0.75,
  ),
  itemBuilder: (context, index) => // responsive item
)
```

### 4. Responsive Button

```dart
// GOOD - Responsive button
ElevatedButton(
  onPressed: onPressed,
  style: ElevatedButton.styleFrom(
    padding: EdgeInsets.symmetric(
      horizontal: width * 0.08,
      vertical: height * 0.018,
    ),
    shape: RoundedRectangleBorder(
      borderRadius: BorderRadius.circular(width * 0.03),
    ),
    minimumSize: Size(width * 0.4, height * 0.06), // Min size
  ),
  child: Text(
    label,
    style: TextStyle(fontSize: width * 0.04),
  ),
)

// BAD - Hardcoded
ElevatedButton(
  style: ElevatedButton.styleFrom(padding: EdgeInsets.all(16)),
  child: Text(label, style: TextStyle(fontSize: 16)),
)
```

### 5. Responsive AppBar

```dart
// GOOD - Responsive AppBar
AppBar(
  toolbarHeight: height * 0.08,  // 8% of screen height
  title: Text(
    title,
    style: TextStyle(fontSize: width * 0.05),
  ),
  actions: [
    IconButton(
      icon: Icon(Icons.notifications, size: width * 0.06),
      padding: EdgeInsets.all(width * 0.03),
      onPressed: onPressed,
    ),
  ],
)
```

### 6. Responsive SliverAppBar

```dart
// GOOD - Responsive expandable header
SliverAppBar(
  expandedHeight: height * 0.25,  // 25% of screen height
  toolbarHeight: height * 0.08,   // 8% of screen height
  flexibleSpace: FlexibleSpaceBar(
    title: Text(
      title,
      style: TextStyle(fontSize: width * 0.05),
    ),
  ),
)
```

---

## üéØ Common Size Guidelines

### Spacing

```dart
// Define at the start of build method
final tinySpace = width * 0.01;      // ~4px  - Very tight spacing
final smallSpace = width * 0.02;     // ~8px  - Compact spacing
final mediumSpace = width * 0.04;    // ~16px - Standard spacing
final largeSpace = width * 0.06;     // ~24px - Generous spacing
final xLargeSpace = width * 0.08;    // ~32px - Section spacing
final xxLargeSpace = width * 0.12;   // ~48px - Major sections
```

### Icon Sizes

```dart
final tinyIcon = width * 0.04;       // ~16px - Small indicators
final smallIcon = width * 0.05;      // ~20px - Compact icons
final mediumIcon = width * 0.06;     // ~24px - Standard icons
final largeIcon = width * 0.08;      // ~32px - Featured icons
final xLargeIcon = width * 0.12;     // ~48px - Hero icons
final xxLargeIcon = width * 0.2;     // ~80px - Splash/empty state
```

### Font Sizes

```dart
final captionSize = width * 0.03;    // ~12px - Captions, labels
final bodySmallSize = width * 0.035; // ~14px - Secondary text
final bodySize = width * 0.04;       // ~16px - Body text
final titleSize = width * 0.045;     // ~18px - Titles
final headlineSize = width * 0.055;  // ~22px - Headlines
final displaySize = width * 0.07;    // ~28px - Display text
```

### Border Radius

```dart
final smallRadius = width * 0.02;    // ~8px  - Subtle rounding
final mediumRadius = width * 0.03;   // ~12px - Standard rounding
final largeRadius = width * 0.04;    // ~16px - Prominent rounding
final xLargeRadius = width * 0.06;   // ~24px - Very rounded
```

### Border Width

```dart
final thinBorder = width * 0.0025;   // ~1px  - Thin borders
final mediumBorder = width * 0.005;  // ~2px  - Standard borders
final thickBorder = width * 0.0075;  // ~3px  - Thick borders
```

---

## üé® Responsive Design Helper Class

### Create Responsive Utility (Optional)

Create `lib/core/responsive.dart`:

```dart
import 'package:flutter/material.dart';

class Responsive {
  final BuildContext context;
  late final double width;
  late final double height;

  Responsive(this.context) {
    final size = MediaQuery.of(context).size;
    width = size.width;
    height = size.height;
  }

  // Spacing
  double get tinySpace => width * 0.01;
  double get smallSpace => width * 0.02;
  double get mediumSpace => width * 0.04;
  double get largeSpace => width * 0.06;
  double get xLargeSpace => width * 0.08;

  // Icons
  double get tinyIcon => width * 0.04;
  double get smallIcon => width * 0.05;
  double get mediumIcon => width * 0.06;
  double get largeIcon => width * 0.08;
  double get xLargeIcon => width * 0.12;
  double get xxLargeIcon => width * 0.2;

  // Fonts
  double get captionSize => width * 0.03;
  double get bodySmallSize => width * 0.035;
  double get bodySize => width * 0.04;
  double get titleSize => width * 0.045;
  double get headlineSize => width * 0.055;
  double get displaySize => width * 0.07;

  // Radius
  double get smallRadius => width * 0.02;
  double get mediumRadius => width * 0.03;
  double get largeRadius => width * 0.04;
  double get xLargeRadius => width * 0.06;

  // Borders
  double get thinBorder => width * 0.0025;
  double get mediumBorder => width * 0.005;
  double get thickBorder => width * 0.0075;

  // Device type
  bool get isMobile => width < 600;
  bool get isTablet => width >= 600 && width < 1024;
  bool get isDesktop => width >= 1024;

  // Grid columns
  int get gridColumns => isMobile ? 2 : isTablet ? 3 : 4;

  // Helper methods
  double wp(double percentage) => width * (percentage / 100);
  double hp(double percentage) => height * (percentage / 100);
}

// Usage in widgets
final responsive = Responsive(context);
Icon(Icons.home, size: responsive.mediumIcon)
SizedBox(height: responsive.mediumSpace)
Text('Title', style: TextStyle(fontSize: responsive.titleSize))
```

---

## üìê Specific Component Guidelines

### Headers & AppBars

```dart
// AppBar height
AppBar(
  toolbarHeight: height * 0.08,  // 8% of screen height (‚âà64px)
)

// SliverAppBar
SliverAppBar(
  expandedHeight: height * 0.25,  // 25% of screen height
  toolbarHeight: height * 0.08,   // 8% of screen height
)

// Header text
Text(
  'Welcome',
  style: TextStyle(
    fontSize: width * 0.07,  // 7% (‚âà28px)
    fontWeight: FontWeight.bold,
  ),
)
```

### Cards

```dart
// Card container
Card(
  margin: EdgeInsets.all(width * 0.04),     // 4% margin
  shape: RoundedRectangleBorder(
    borderRadius: BorderRadius.circular(width * 0.04),  // 4% radius
  ),
  child: Padding(
    padding: EdgeInsets.all(width * 0.04),  // 4% internal padding
    child: // content
  ),
)

// Card height (when needed)
height: height * 0.15,  // 15% of screen height
```

### Buttons

```dart
// Primary button
ElevatedButton(
  style: ElevatedButton.styleFrom(
    padding: EdgeInsets.symmetric(
      horizontal: width * 0.08,   // 8% horizontal
      vertical: height * 0.018,   // 1.8% vertical
    ),
    shape: RoundedRectangleBorder(
      borderRadius: BorderRadius.circular(width * 0.03),  // 3% radius
    ),
    minimumSize: Size(width * 0.9, height * 0.06),  // Full width, 6% height
  ),
  child: Text(
    label,
    style: TextStyle(fontSize: width * 0.04),  // 4% font size
  ),
)

// Icon button
IconButton(
  icon: Icon(Icons.add, size: width * 0.06),
  padding: EdgeInsets.all(width * 0.03),
  constraints: BoxConstraints(
    minWidth: width * 0.12,   // 12% min width (‚âà48px)
    minHeight: width * 0.12,  // 12% min height (‚âà48px)
  ),
  onPressed: onPressed,
)
```

### Input Fields

```dart
// TextField
TextField(
  decoration: InputDecoration(
    contentPadding: EdgeInsets.symmetric(
      horizontal: width * 0.04,   // 4% horizontal
      vertical: height * 0.02,    // 2% vertical
    ),
    border: OutlineInputBorder(
      borderRadius: BorderRadius.circular(width * 0.03),  // 3% radius
      borderSide: BorderSide(width: width * 0.0025),     // 0.25% width
    ),
  ),
  style: TextStyle(fontSize: width * 0.04),  // 4% font size
)
```

### Images

```dart
// Product image
Image.network(
  url,
  width: width * 0.9,       // 90% of screen width
  height: height * 0.3,     // 30% of screen height
  fit: BoxFit.cover,
)

// Avatar/profile image
CircleAvatar(
  radius: width * 0.12,  // 12% radius (‚âà48px diameter on 400px screen)
  backgroundImage: NetworkImage(url),
)

// Icon in circle
Container(
  width: width * 0.15,
  height: width * 0.15,  // Use width for both to maintain circle
  decoration: BoxDecoration(
    shape: BoxShape.circle,
    color: color,
  ),
  child: Icon(icon, size: width * 0.08),
)
```

### Lists & Grid

```dart
// ListView spacing
ListView.separated(
  padding: EdgeInsets.all(width * 0.04),
  separatorBuilder: (context, index) => SizedBox(height: height * 0.015),
  itemBuilder: (context, index) => // item
)

// GridView
GridView.builder(
  padding: EdgeInsets.all(width * 0.04),
  gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
    crossAxisCount: DeviceType.isMobile(width) ? 2 : 3,
    crossAxisSpacing: width * 0.03,
    mainAxisSpacing: width * 0.03,
    childAspectRatio: 0.75,
  ),
)
```

### Bottom Sheets & Dialogs

```dart
// Bottom sheet
showModalBottomSheet(
  context: context,
  shape: RoundedRectangleBorder(
    borderRadius: BorderRadius.vertical(
      top: Radius.circular(width * 0.06),  // 6% top radius
    ),
  ),
  builder: (context) => Container(
    padding: EdgeInsets.all(width * 0.05),
    height: height * 0.6,  // 60% of screen height
    child: // content
  ),
)

// Dialog
AlertDialog(
  shape: RoundedRectangleBorder(
    borderRadius: BorderRadius.circular(width * 0.05),  // 5% radius
  ),
  contentPadding: EdgeInsets.all(width * 0.05),
  titlePadding: EdgeInsets.all(width * 0.05),
)
```

### Shadows

```dart
// Box shadow
BoxShadow(
  color: Colors.black.withOpacity(0.1),
  blurRadius: width * 0.02,   // 2% blur (‚âà8px)
  spreadRadius: width * 0.01, // 1% spread (‚âà4px)
  offset: Offset(0, height * 0.005),  // 0.5% vertical offset
)
```

---

## üé¨ Responsive Animations

### Animation Sizes

```dart
// Scale animation range
Animation<double> _scaleAnimation = Tween<double>(
  begin: 0.8,  // Start at 80%
  end: 1.0,    // End at 100%
).animate(controller);

// Slide animation
Animation<Offset> _slideAnimation = Tween<Offset>(
  begin: Offset(0, height * 0.1 / height),  // 10% of height
  end: Offset.zero,
).animate(controller);

// Rotation with size-based blur
Transform.scale(
  scale: _scaleAnimation.value,
  child: Container(
    decoration: BoxDecoration(
      boxShadow: [
        BoxShadow(
          blurRadius: width * 0.05 * _scaleAnimation.value,  // Responsive blur
        ),
      ],
    ),
  ),
)
```

---

## üì± SafeArea & Notches

### Always Use SafeArea

```dart
// GOOD - Accounts for notches, status bar
Scaffold(
  body: SafeArea(
    child: SingleChildScrollView(
      padding: EdgeInsets.symmetric(
        horizontal: width * 0.05,
        vertical: height * 0.02,
      ),
      child: // content
    ),
  ),
)
```

### Top Padding for Status Bar

```dart
// When not using SafeArea
final topPadding = MediaQuery.of(context).padding.top;
Padding(
  padding: EdgeInsets.only(top: topPadding + height * 0.02),
  child: // content
)
```

---

## üéØ Text Overflow Handling

### Always Handle Long Text

```dart
// GOOD - Responsive with overflow handling
Text(
  longText,
  style: TextStyle(fontSize: width * 0.04),
  maxLines: 2,
  overflow: TextOverflow.ellipsis,
)

// For flexible text
Flexible(
  child: Text(
    text,
    style: TextStyle(fontSize: width * 0.04),
    overflow: TextOverflow.ellipsis,
  ),
)
```

---

## üìä Aspect Ratios

### Use Aspect Ratios for Consistency

```dart
// Product card with consistent ratio
AspectRatio(
  aspectRatio: 0.75,  // 3:4 ratio (portrait)
  child: Container(
    width: width * 0.45,  // Width is responsive
    // Height automatically calculated
  ),
)

// Banner/hero image
AspectRatio(
  aspectRatio: 16 / 9,  // Wide banner
  child: Image.network(url, fit: BoxFit.cover),
)
```

---

## ‚ö° Performance Considerations

### Cache MediaQuery Values

```dart
// GOOD - Calculate once per build
@override
Widget build(BuildContext context) {
  final size = MediaQuery.of(context).size;
  final width = size.width;
  final height = size.height;

  // Use width and height multiple times
  return Container(
    width: width * 0.9,
    padding: EdgeInsets.all(width * 0.04),
    margin: EdgeInsets.symmetric(horizontal: width * 0.05),
  );
}

// BAD - Multiple MediaQuery calls
Container(
  width: MediaQuery.of(context).size.width * 0.9,
  padding: EdgeInsets.all(MediaQuery.of(context).size.width * 0.04),
  // ... (repeated calls are inefficient)
)
```

---

## üé® Responsive Theming Integration

### Combine Responsive + Theme

```dart
@override
Widget build(BuildContext context) {
  final size = MediaQuery.of(context).size;
  final width = size.width;
  final height = size.height;
  final theme = Theme.of(context);
  final isDark = theme.brightness == Brightness.dark;

  return Container(
    width: width * 0.9,                              // Responsive width
    padding: EdgeInsets.all(width * 0.04),           // Responsive padding
    decoration: BoxDecoration(
      color: AppColors.getBackground(isDark),        // Theme color
      borderRadius: BorderRadius.circular(width * 0.03), // Responsive radius
      border: Border.all(
        color: AppColors.getBorder(isDark),          // Theme color
        width: width * 0.0025,                       // Responsive width
      ),
    ),
    child: Text(
      'Hello',
      style: TextStyle(
        fontSize: width * 0.045,                     // Responsive font
        color: AppColors.getTextPrimary(isDark),    // Theme color
      ),
    ),
  );
}
```

---

## üì± Orientation Support

### Handle Portrait & Landscape

```dart
@override
Widget build(BuildContext context) {
  final size = MediaQuery.of(context).size;
  final orientation = MediaQuery.of(context).orientation;

  // Use the smaller dimension for consistency
  final shortestSide = size.shortestSide;
  final longestSide = size.longestSide;

  // Adjust layout based on orientation
  if (orientation == Orientation.portrait) {
    return _buildPortraitLayout(size.width, size.height);
  } else {
    return _buildLandscapeLayout(size.width, size.height);
  }
}
```

---

## üéØ Minimum & Maximum Constraints

### Set Boundaries for Extreme Sizes

```dart
// Prevent too small or too large
Container(
  width: (width * 0.9).clamp(300.0, 600.0),  // Min 300, max 600
  child: child,
)

// For font sizes
Text(
  text,
  style: TextStyle(
    fontSize: (width * 0.04).clamp(14.0, 20.0),  // Min 14px, max 20px
  ),
)
```

---

## üé® Real-World Examples

### Example 1: Product Card

```dart
Widget _buildProductCard(BuildContext context, Product product) {
  final size = MediaQuery.of(context).size;
  final width = size.width;
  final height = size.height;
  final theme = Theme.of(context);
  final isDark = theme.brightness == Brightness.dark;

  return Container(
    width: width * 0.45,  // 45% of screen width
    margin: EdgeInsets.all(width * 0.02),
    decoration: BoxDecoration(
      color: AppColors.getSurface(isDark),
      borderRadius: BorderRadius.circular(width * 0.04),
      border: Border.all(
        color: AppColors.getBorder(isDark),
        width: width * 0.0025,
      ),
      boxShadow: [
        BoxShadow(
          color: Colors.black.withOpacity(0.05),
          blurRadius: width * 0.02,
          offset: Offset(0, height * 0.005),
        ),
      ],
    ),
    child: Column(
      children: [
        // Image
        ClipRRect(
          borderRadius: BorderRadius.vertical(
            top: Radius.circular(width * 0.04),
          ),
          child: Image.network(
            product.image,
            width: width * 0.45,
            height: width * 0.45,  // Square image
            fit: BoxFit.cover,
          ),
        ),
        Padding(
          padding: EdgeInsets.all(width * 0.03),
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Text(
                product.name,
                style: TextStyle(
                  fontSize: width * 0.04,
                  fontWeight: FontWeight.w600,
                ),
                maxLines: 2,
                overflow: TextOverflow.ellipsis,
              ),
              SizedBox(height: height * 0.008),
              Text(
                '\$${product.price}',
                style: TextStyle(
                  fontSize: width * 0.045,
                  fontWeight: FontWeight.bold,
                  color: AppColors.gold,
                ),
              ),
            ],
          ),
        ),
      ],
    ),
  );
}
```

### Example 2: Search Bar

```dart
Widget _buildSearchBar(BuildContext context) {
  final size = MediaQuery.of(context).size;
  final width = size.width;
  final height = size.height;

  return Container(
    width: width * 0.9,
    height: height * 0.06,  // 6% of screen height
    padding: EdgeInsets.symmetric(horizontal: width * 0.04),
    decoration: BoxDecoration(
      color: Colors.white,
      borderRadius: BorderRadius.circular(width * 0.03),
      border: Border.all(color: Colors.grey[300]!),
    ),
    child: Row(
      children: [
        Icon(Icons.search, size: width * 0.06, color: Colors.grey),
        SizedBox(width: width * 0.03),
        Expanded(
          child: TextField(
            decoration: InputDecoration(
              border: InputBorder.none,
              hintText: 'Search products...',
              hintStyle: TextStyle(fontSize: width * 0.04),
            ),
            style: TextStyle(fontSize: width * 0.04),
          ),
        ),
      ],
    ),
  );
}
```

### Example 3: Bottom Navigation Bar

```dart
// Bottom navigation height
BottomNavigationBar(
  items: items.map((item) => BottomNavigationBarItem(
    icon: Icon(item.icon, size: width * 0.06),  // 6% icon size
    label: item.label,
  )).toList(),
  selectedFontSize: width * 0.035,   // 3.5% selected
  unselectedFontSize: width * 0.03,  // 3% unselected
  iconSize: width * 0.07,            // 7% icon size
)
```

---

## ‚úÖ Checklist for Every Widget

Before completing any widget, ensure:

- [ ] No hardcoded widths (use `width * percentage`)
- [ ] No hardcoded heights (use `height * percentage`)
- [ ] No hardcoded padding (use `width/height * percentage`)
- [ ] No hardcoded margins (use `width/height * percentage`)
- [ ] No hardcoded font sizes (use `width * percentage`)
- [ ] No hardcoded icon sizes (use `width * percentage`)
- [ ] No hardcoded border radius (use `width * percentage`)
- [ ] No hardcoded border width (use `width * percentage`)
- [ ] Handles text overflow (maxLines, overflow)
- [ ] Uses theme colors (not hardcoded colors)
- [ ] Works on small phones (320px width)
- [ ] Works on large tablets (1024px+ width)
- [ ] Tested in both portrait and landscape

---

## üö´ Common Mistakes to Avoid

### ‚ùå BAD Examples

```dart
// Hardcoded sizes
Container(width: 350, height: 200)
Icon(Icons.home, size: 24)
Text('Title', style: TextStyle(fontSize: 16))
Padding(padding: EdgeInsets.all(16))
BorderRadius.circular(12)

// Magic numbers
SizedBox(height: 20)
margin: EdgeInsets.only(top: 40)
```

### ‚úÖ GOOD Examples

```dart
// Responsive sizes
Container(width: width * 0.9, height: height * 0.25)
Icon(Icons.home, size: width * 0.06)
Text('Title', style: TextStyle(fontSize: width * 0.04))
Padding(padding: EdgeInsets.all(width * 0.04))
BorderRadius.circular(width * 0.03)

// Calculated spacing
SizedBox(height: height * 0.025)
margin: EdgeInsets.only(top: height * 0.05)
```

---

## üìê Grid Layout Formula

### Responsive Grid Columns

```dart
int getGridColumns(double width) {
  if (width < 600) return 2;      // Mobile: 2 columns
  if (width < 900) return 3;      // Tablet: 3 columns
  if (width < 1200) return 4;     // Small desktop: 4 columns
  return 5;                        // Large desktop: 5 columns
}

// Usage
GridView.builder(
  gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
    crossAxisCount: getGridColumns(width),
    crossAxisSpacing: width * 0.02,
    mainAxisSpacing: width * 0.02,
  ),
)
```

---

## üé® Responsive Card Sizing

### Product Cards

```dart
// Mobile (2 columns): each card is ~45% width
final cardWidth = width * 0.45;

// Tablet (3 columns): each card is ~30% width
final cardWidth = width * 0.30;

// Or use LayoutBuilder
LayoutBuilder(
  builder: (context, constraints) {
    final availableWidth = constraints.maxWidth;
    final cardWidth = availableWidth / columns - spacing;
    return Container(width: cardWidth, ...);
  },
)
```

---

## üîß Testing Responsive Design

### Test On

1. **Small Phone** - 320px x 568px (iPhone SE)
2. **Medium Phone** - 375px x 667px (iPhone 8)
3. **Large Phone** - 414px x 896px (iPhone 11)
4. **Tablet** - 768px x 1024px (iPad)
5. **Desktop** - 1920px x 1080px

### Flutter Device Preview (Optional)

```yaml
# pubspec.yaml
dev_dependencies:
  device_preview: ^1.1.0
```

```dart
// main.dart (for testing only)
runApp(
  DevicePreview(
    enabled: kDebugMode,
    builder: (context) => MyApp(),
  ),
);
```

---

## üìè Reference Size Chart

### Based on 400px width screen

| Percentage | Pixels | Use Case                       |
| ---------- | ------ | ------------------------------ |
| 1%         | 4px    | Tiny spacing, border width     |
| 2%         | 8px    | Small spacing, small radius    |
| 3%         | 12px   | Medium radius, icon spacing    |
| 4%         | 16px   | Standard padding, body font    |
| 5%         | 20px   | Large padding, title font      |
| 6%         | 24px   | Standard icon, section spacing |
| 8%         | 32px   | Large icons, button height     |
| 10%        | 40px   | Large spacing                  |
| 15%        | 60px   | Profile images, hero icons     |
| 20%        | 80px   | Large images, splash icons     |
| 25%        | 100px  | Section heights                |
| 50%        | 200px  | Half-screen modals             |
| 90%        | 360px  | Full-width containers          |

---

## üéä Final Rules Summary

### ALWAYS

1. ‚úÖ Get `width` and `height` from `MediaQuery.of(context).size`
2. ‚úÖ Calculate all sizes as percentages: `width * 0.XX`
3. ‚úÖ Use `width` for horizontal dimensions and font sizes
4. ‚úÖ Use `height` for vertical dimensions
5. ‚úÖ Cache MediaQuery values at the start of build method
6. ‚úÖ Handle text overflow with maxLines and ellipsis
7. ‚úÖ Use SafeArea for screens with notches
8. ‚úÖ Test on multiple screen sizes
9. ‚úÖ Combine with theme colors (never hardcode colors)
10. ‚úÖ Use aspect ratios for consistent shapes

### NEVER

1. ‚ùå Hardcode pixel values (width: 350, fontSize: 16)
2. ‚ùå Use magic numbers without context
3. ‚ùå Forget to handle text overflow
4. ‚ùå Skip SafeArea on full-screen widgets
5. ‚ùå Use MediaQuery.of(context) multiple times (cache it)
6. ‚ùå Ignore orientation changes
7. ‚ùå Forget minimum touch target size (44x44 minimum)
8. ‚ùå Mix responsive sizing with hardcoded values

---

## üèÜ Golden Ratio Reference

For aesthetically pleasing proportions:

```dart
// Golden ratio: 1.618
final goldenRatio = 1.618;

// Use for related dimensions
Container(
  width: width * 0.6,
  height: (width * 0.6) / goldenRatio,  // Aesthetically pleasing ratio
)

// For padding ratios
padding: EdgeInsets.symmetric(
  horizontal: width * 0.05,
  vertical: (width * 0.05) / goldenRatio,
)
```

---

**Apply these rules to ALL Flutter widgets and pages for perfect responsiveness across all devices!** üì±üíªüñ•Ô∏è

**Zembil will look amazing on any screen size!** üèÜ‚ú®
